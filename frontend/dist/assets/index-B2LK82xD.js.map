{"version":3,"file":"index-B2LK82xD.js","sources":["../../src/views/procurement/index.vue"],"sourcesContent":["<template>\n  <div class=\"procurement\">\n    <!-- 操作栏 -->\n    <div class=\"toolbar\">\n      <el-button type=\"primary\" @click=\"handleCreate\">\n        <el-icon><Plus /></el-icon>\n        新建采购申请\n      </el-button>\n      \n      <div class=\"filter-group\">\n        <el-select v-model=\"filter.status\" placeholder=\"状态\" clearable style=\"width: 120px\">\n          <el-option label=\"待审批\" value=\"pending_approval\" />\n          <el-option label=\"已审批\" value=\"approved\" />\n          <el-option label=\"已下单\" value=\"ordered\" />\n          <el-option label=\"已到货\" value=\"delivered\" />\n        </el-select>\n        \n        <el-input\n          v-model=\"filter.keyword\"\n          placeholder=\"搜索采购单号/物料\"\n          style=\"width: 250px\"\n          clearable\n        >\n          <template #prefix>\n            <el-icon><Search /></el-icon>\n          </template>\n        </el-input>\n      </div>\n    </div>\n    \n    <!-- 采购列表 -->\n    <el-table :data=\"procurementList\" v-loading=\"loading\">\n      <el-table-column prop=\"order_no\" label=\"采购单号\" width=\"150\" />\n      \n      <el-table-column prop=\"material_name\" label=\"物料名称\" min-width=\"180\" />\n      \n      <el-table-column prop=\"quantity\" label=\"数量\" width=\"100\">\n        <template #default=\"{ row }\">\n          {{ row.quantity }} {{ row.unit }}\n        </template>\n      </el-table-column>\n      \n      <el-table-column prop=\"total_price\" label=\"总价\" width=\"120\">\n        <template #default=\"{ row }\">\n          ¥{{ row.total_price?.toFixed(2) }}\n        </template>\n      </el-table-column>\n      \n      <el-table-column prop=\"supplier\" label=\"供应商\" width=\"150\" />\n      \n      <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\n        <template #default=\"{ row }\">\n          <el-tag :type=\"getStatusType(row.status)\">\n            {{ getStatusText(row.status) }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      \n      <el-table-column prop=\"delivery_date\" label=\"交货日期\" width=\"120\" />\n      \n      <el-table-column label=\"操作\" width=\"200\" fixed=\"right\">\n        <template #default=\"{ row }\">\n          <el-button v-if=\"row.status === 'pending_approval'\" link type=\"success\" @click=\"handleApprove(row)\">审批</el-button>\n          <el-button link type=\"primary\" @click=\"handleView(row)\">查看</el-button>\n          <el-button link type=\"primary\" @click=\"handleEdit(row)\">编辑</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    \n    <!-- 分页 -->\n    <div class=\"pagination\">\n      <el-pagination\n        v-model:current-page=\"page\"\n        v-model:page-size=\"pageSize\"\n        :total=\"total\"\n        layout=\"total, sizes, prev, pager, next\"\n        :page-sizes=\"[10, 20, 50, 100]\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive } from 'vue'\nimport { ElMessage } from 'element-plus'\n\nconst loading = ref(false)\nconst page = ref(1)\nconst pageSize = ref(20)\nconst total = ref(0)\n\nconst filter = reactive({\n  status: '',\n  keyword: ''\n})\n\nconst procurementList = ref([\n  {\n    id: 1,\n    order_no: 'PO-2024-001',\n    material_name: '4mm铝合金板',\n    quantity: 200,\n    unit: '平米',\n    total_price: 56000,\n    supplier: '中铝',\n    status: 'delivered',\n    delivery_date: '2024-01-20'\n  },\n  {\n    id: 2,\n    order_no: 'PO-2024-002',\n    material_name: '铝合金焊丝',\n    quantity: 500,\n    unit: 'kg',\n    total_price: 17500,\n    supplier: '大西洋',\n    status: 'pending_approval',\n    delivery_date: '2024-02-15'\n  }\n])\n\nconst getStatusType = (status: string) => {\n  const map: Record<string, string> = {\n    draft: 'info',\n    pending_approval: 'warning',\n    approved: 'success',\n    ordered: 'primary',\n    delivered: 'success',\n    cancelled: 'info'\n  }\n  return map[status] || 'info'\n}\n\nconst getStatusText = (status: string) => {\n  const map: Record<string, string> = {\n    draft: '草稿',\n    pending_approval: '待审批',\n    approved: '已审批',\n    ordered: '已下单',\n    delivered: '已到货',\n    cancelled: '已取消'\n  }\n  return map[status] || status\n}\n\nconst handleCreate = () => {\n  // TODO: 新建采购申请\n}\n\nconst handleApprove = (row: any) => {\n  // TODO: 审批\n  row.status = 'approved'\n  ElMessage.success('审批通过')\n}\n\nconst handleView = (row: any) => {\n  // TODO: 查看详情\n}\n\nconst handleEdit = (row: any) => {\n  // TODO: 编辑\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.procurement {\n  .toolbar {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 20px;\n    \n    .filter-group {\n      display: flex;\n      gap: 12px;\n    }\n  }\n  \n  .pagination {\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 20px;\n  }\n}\n</style>\n"],"names":["loading","ref","page","pageSize","total","filter","reactive","procurementList","getStatusType","status","getStatusText","handleCreate","handleApprove","row","ElMessage","handleView","handleEdit","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_el_button","_component_el_icon","_component_Plus","_hoisted_3","_component_el_select","_cache","$event","_component_el_option","_component_el_input","_component_Search","_createBlock","_component_el_table","_component_el_table_column","_withCtx","_createTextVNode","_toDisplayString","_a","_component_el_tag","_hoisted_4","_component_el_pagination"],"mappings":"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"}