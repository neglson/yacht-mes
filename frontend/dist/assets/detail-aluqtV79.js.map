{"version":3,"file":"detail-aluqtV79.js","sources":["../../src/views/projects/detail.vue"],"sourcesContent":["<template>\n  <div class=\"project-detail\">\n    <el-page-header :title=\"project?.yacht_name\" @back=\"$router.back()\">\n      <template #content>\n        <el-descriptions :column=\"4\" size=\"small\">\n          <el-descriptions-item label=\"项目编号\">{{ project?.project_no }}</el-descriptions-item>\n          <el-descriptions-item label=\"船型\">{{ project?.yacht_model }}</el-descriptions-item>\n          <el-descriptions-item label=\"船东\">{{ project?.client_name }}</el-descriptions-item>\n          <el-descriptions-item label=\"状态\">\n            <el-tag :type=\"getStatusType(project?.status)\">\n              {{ getStatusText(project?.status) }}\n            </el-tag>\n          </el-descriptions-item>\n        </el-descriptions>\n      </template>\n      \n      <template #extra>\n        <el-button type=\"primary\" @click=\"handleEdit\">编辑</el-button>\n      </template>\n    </el-page-header>\n    \n    <!-- 进度概览 -->\n    <el-row :gutter=\"20\" class=\"stats-row\">\n      <el-col :span=\"6\">\n        <el-statistic title=\"总任务\" :value=\"stats.totalTasks\" />\n      </el-col>\n      <el-col :span=\"6\">\n        <el-statistic title=\"已完成\" :value=\"stats.completedTasks\" />\n      </el-col>\n      <el-col :span=\"6\">\n        <el-statistic title=\"进行中\" :value=\"stats.inProgressTasks\" />\n      </el-col>\n      <el-col :span=\"6\">\n        <el-statistic title=\"延期\" :value=\"stats.delayedTasks\" />\n      </el-col>\n    </el-row>\n    \n    <!-- 任务列表 -->\n    <el-card class=\"tasks-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>任务列表</span>\n          <el-button type=\"primary\" size=\"small\" @click=\"handleAddTask\">添加任务</el-button>\n        </div>\n      </template>\n      \n      <el-table :data=\"tasks\" row-key=\"id\">\n        <el-table-column prop=\"task_no\" label=\"序号\" width=\"80\" />\n        <el-table-column prop=\"name\" label=\"任务名称\" />\n        <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\n          <template #default=\"{ row }\">\n            <el-tag :type=\"getTaskStatusType(row.status)\">\n              {{ getTaskStatusText(row.status) }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        \n        <el-table-column prop=\"progress_percent\" label=\"进度\" width=\"150\">\n          <template #default=\"{ row }\">\n            <el-progress :percentage=\"row.progress_percent || 0\" />\n          </template>\n        </el-table-column>\n        \n        <el-table-column prop=\"plan_end\" label=\"计划结束\" width=\"120\" />\n      </el-table>\n    </el-card>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted } from 'vue'\nimport { useRoute } from 'vue-router'\n\nconst route = useRoute()\nconst projectId = route.params.id\n\nconst project = ref({\n  id: 1,\n  project_no: 'YT-2024-001',\n  yacht_name: '海鹰号',\n  yacht_model: 'HY-65',\n  client_name: '张三',\n  status: 'in_progress'\n})\n\nconst stats = ref({\n  totalTasks: 10,\n  completedTasks: 3,\n  inProgressTasks: 5,\n  delayedTasks: 2\n})\n\nconst tasks = ref([\n  {\n    id: 1,\n    task_no: '1.1',\n    name: '飞桥结构设计交付',\n    status: 'completed',\n    progress_percent: 100,\n    plan_end: '2024-02-15'\n  },\n  {\n    id: 2,\n    task_no: '1.2',\n    name: '船体结构生产放样及制作',\n    status: 'in_progress',\n    progress_percent: 65,\n    plan_end: '2024-04-30'\n  }\n])\n\nconst getStatusType = (status?: string) => {\n  const map: Record<string, string> = {\n    planning: 'info',\n    in_progress: 'primary',\n    completed: 'success',\n    cancelled: 'danger'\n  }\n  return map[status || ''] || 'info'\n}\n\nconst getStatusText = (status?: string) => {\n  const map: Record<string, string> = {\n    planning: '规划中',\n    in_progress: '进行中',\n    completed: '已完成',\n    cancelled: '已取消'\n  }\n  return map[status || ''] || status\n}\n\nconst getTaskStatusType = (status: string) => {\n  const map: Record<string, string> = {\n    not_started: 'info',\n    in_progress: 'primary',\n    completed: 'success',\n    delayed: 'danger'\n  }\n  return map[status] || 'info'\n}\n\nconst getTaskStatusText = (status: string) => {\n  const map: Record<string, string> = {\n    not_started: '未开始',\n    in_progress: '进行中',\n    completed: '已完成',\n    delayed: '延期'\n  }\n  return map[status] || status\n}\n\nconst handleEdit = () => {\n  // TODO: 编辑项目\n}\n\nconst handleAddTask = () => {\n  // TODO: 添加任务\n}\n\nonMounted(() => {\n  // TODO: 加载项目详情\n  console.log('项目ID:', projectId)\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.project-detail {\n  .stats-row {\n    margin: 20px 0;\n  }\n  \n  .tasks-card {\n    .card-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n  }\n}\n</style>\n"],"names":["projectId","useRoute","project","ref","stats","tasks","getStatusType","status","getStatusText","getTaskStatusType","getTaskStatusText","handleEdit","handleAddTask","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_el_page_header","_a","_cache","$event","$router","_component_el_descriptions","_component_el_descriptions_item","_createTextVNode","_toDisplayString","_component_el_tag","_component_el_button","_component_el_row","_component_el_col","_component_el_statistic","_component_el_card","_createElementVNode","_hoisted_2","_component_el_table","_component_el_table_column","_withCtx","row","_component_el_progress"],"mappings":"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"}